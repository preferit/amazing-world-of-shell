{"ast":null,"code":"import { useState } from 'react';\nexport function useCallbackRef(initialValue, callback) {\n  var ref = useState(function () {\n    return {\n      value: initialValue,\n      callback: callback,\n      facade: {\n        get current() {\n          return ref.value;\n        },\n\n        set current(value) {\n          var last = ref.value;\n\n          if (last !== value) {\n            ref.value = value;\n            ref.callback(value, last);\n          }\n        }\n\n      }\n    };\n  })[0];\n  ref.callback = callback;\n  return ref.facade;\n}","map":{"version":3,"sources":["/home/axis/Development/the-amazing-world-of-shell/node_modules/use-callback-ref/dist/es2015/useRef.js"],"names":["useState","useCallbackRef","initialValue","callback","ref","value","facade","current","last"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAO,SAASC,cAAT,CAAwBC,YAAxB,EAAsCC,QAAtC,EAAgD;AACnD,MAAIC,GAAG,GAAGJ,QAAQ,CAAC,YAAY;AAAE,WAAQ;AACrCK,MAAAA,KAAK,EAAEH,YAD8B;AAErCC,MAAAA,QAAQ,EAAEA,QAF2B;AAGrCG,MAAAA,MAAM,EAAE;AACJ,YAAIC,OAAJ,GAAc;AACV,iBAAOH,GAAG,CAACC,KAAX;AACH,SAHG;;AAIJ,YAAIE,OAAJ,CAAYF,KAAZ,EAAmB;AACf,cAAIG,IAAI,GAAGJ,GAAG,CAACC,KAAf;;AACA,cAAIG,IAAI,KAAKH,KAAb,EAAoB;AAChBD,YAAAA,GAAG,CAACC,KAAJ,GAAYA,KAAZ;AACAD,YAAAA,GAAG,CAACD,QAAJ,CAAaE,KAAb,EAAoBG,IAApB;AACH;AACJ;;AAVG;AAH6B,KAAR;AAe5B,GAfa,CAAR,CAeH,CAfG,CAAV;AAgBAJ,EAAAA,GAAG,CAACD,QAAJ,GAAeA,QAAf;AACA,SAAOC,GAAG,CAACE,MAAX;AACH","sourcesContent":["import { useState } from 'react';\nexport function useCallbackRef(initialValue, callback) {\n    var ref = useState(function () { return ({\n        value: initialValue,\n        callback: callback,\n        facade: {\n            get current() {\n                return ref.value;\n            },\n            set current(value) {\n                var last = ref.value;\n                if (last !== value) {\n                    ref.value = value;\n                    ref.callback(value, last);\n                }\n            }\n        }\n    }); })[0];\n    ref.callback = callback;\n    return ref.facade;\n}\n"]},"metadata":{},"sourceType":"module"}